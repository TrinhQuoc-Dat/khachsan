{% extends 'layout/base.html' %}

{% block title %}Booking detail{% endblock %}

{% block css %}
<link rel="stylesheet" href="../static/css/bookingDetail.css">
{% endblock %}

{% block js %}
<script src="../static/js/likeComment.js"></script>
<script src="{{ url_for('static', filename='js/loadRoomPrice.js') }}"></script>
<script>loadRoomPrice(1);</script>
{% endblock %}

{% block content %}
<div>
    <!-- thanh nav-bar  -->
    <div class="main">
        <div class="container">
            <div class="row">
                <div class="col-md-2 text-center">
                    <p class="menu-item-p">Tổng quan</p>
                </div>

                <div class="col-md-2">
                    <p class="menu-item-p">Thông tin & giá</p>
                </div>

                <div class="col-md-2">
                    <p class="menu-item-p">Tiện nghi</p>
                </div>

                <div class="col-md-2">
                    <p class="menu-item-p">Quy tắc chung</p>
                </div>

                <div class="col-md-1">
                    <p class="menu-item-p">Ghi chú</p>
                </div>

                <div class="col-md-3">
                    <p class="menu-item-p">Đánh giá của khách
                        {{hotel['Overview']['Number-of-reviews']}}</p>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col-md-8">
                    <div>{{hotel['id-room']}}
                        {% for i in range(1, hotel['Overview']['star'] + 1) %}
                        <i class="fa-solid fa-star"
                            style="color: #FFD43B;"></i>
                        {% endfor %}
                        <i class="fa-solid fa-thumbs-up"
                            style="color: #74C0FC;"></i>
                    </div>
                    <div>
                        <p>Tốt <span
                                class="room-review">{{hotel['Overview']['rate']}}</span>
                            {{hotel['Overview']['Number-of-reviews']}}</p>
                    </div>
                </div>

                <div class="col-md-4 text-end">
                    <i class="fa-regular fa-heart"
                        style="color: #74C0FC;"></i>
                    <i class="fa-solid fa-share"
                        style="color: #74C0FC;"></i>
                    <button class="btn btn-info me-3 m-3">Đặt
                        ngay</button>

                    <span style="color: #1763b7;"> <i
                            class="fa-solid fa-tag"
                            style="color: #74C0FC;"></i> Chúng tôi
                        luôn khớp giá</span>
                </div>
            </div>
        </div>

    </div>
    <!-- end thanh nav-bar  -->
</div>

<div class="container mt-0">
    <div class="align-items-center">
        <div class="mb-0">
            <h1>Oasia House Dalat</h1>
        </div>
        <div class="p-2">
            <i class="fa-regular fa-map"></i>
            <span>27 Hẻm Lê Hồng Phong, Đà Lạt, Việt Nam - </span>
            <a
                href="https://www.google.com/maps/place/SwanBay/@10.7396431,106.8313967,17z/data=!3m1!4b1!4m6!3m5!1s0x317523d8d516b03b:0x6a81257a389d5015!8m2!3d10.7396378!4d106.8339716!16s%2Fg%2F11rdsx9yw7?entry=ttu&g_ep=EgoyMDI0MTIwMS4xIKXMDSoASAFQAw%3D%3D">Vị
                trí xuất sắc - hiển thị bản đồ</a>
        </div>
    </div>

    <!-- hình ảnh và tổng quan phòng -->
    <div class="row">
        <div class="col-md-9 col-xs-12">
            <div class="d-flex justify-content-between mb-2">
                <div
                    class="flex-image flex-column col-md-4 justify-content-between">
                    <div class="rounded-pill">
                        <img class="border-lg-image"
                            src="{{ hotel['img']['img2'] }}"
                            width="95%" />
                    </div>
                    <div class="rounded-pill pt-0 ">
                        <img class="border-lg-image"
                            src="{{ hotel['img']['img3'] }}"
                            width="95%" />
                    </div>
                </div>
                <div class="rounded-pill fullscreen-video">
                    <video width="100%" controls autoplay muted>
                        <source src="{{ hotel['img']['img1'] }}" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="flex-image">
                <div class="image-small">
                    <button class=" p-0 border-none">
                        <img class="border-sm-image"
                            src="{{ hotel['img']['img4'] }}"
                            width="100%" />
                    </button>
                </div>
                <div class="image-small">
                    <button class=" p-0 border-none">
                        <img class="border-sm-image"
                            src="{{ hotel['img']['img5'] }}"
                            width="100%" />
                    </button>
                </div>
                <div class="image-small">
                    <button class=" p-0 border-none">
                        <img class="border-sm-image"
                            src="{{ hotel['img']['img6'] }}"
                            width="100%" />
                    </button>
                </div>
                <div class="image-small">
                    <button class=" p-0 border-none">
                        <img class="border-sm-image"
                            src="{{ hotel['img']['img7'] }}"
                            width="100%" />
                    </button>
                </div>
                <div class="image-small">
                    <button class=" p-0 border-none">
                        <img class="border-sm-image"
                            src="{{ hotel['img']['img8'] }}"
                            width="100%" />
                    </button>
                </div>
            </div>

        </div>
        <!-- thông tin tổng quan phòng -->
        <div class="col-md-3 col-xs-12 p-1"
            style="border: 1px solid #1763b7; border-radius: 5px;">
            <div>
                <div class="row">
                    <div class="col-md-9 col-xs-12 text-end p-0">
                        <h5
                            class='mb-0'>{{hotel['Overview']['Classification']}}</h5>
                        <p
                            class="mb-0">{{hotel['Overview']['Number-of-reviews']}}
                            đánh giá</p>
                    </div>
                    <div class="col-md-3 col-xs-12 ">
                        <p class="room-rate ">{{hotel['Overview']['rate']}}</p>
                    </div>
                </div>
            </div>
            <hr>
            <div class="mt-3">
                <h6 class="text-success">Khách lưu trú ở đây thích điều gì?
                </h6>
                <!-- Carousel -->
                <div id="cmt" class="carousel slide" data-bs-ride="carousel">

                    <!-- The slideshow/carousel -->
                    <div class="carousel-inner container">
                        <div class="carousel-item active container">
                            <span>{{hotel['users']['user1']['comment']}}</span>
                            <div
                                class="image-nation d-flex justify-content-around mt-3">
                                <span><i class="fa-solid fa-user"
                                        style="color: #cfd8e8;"></i> </span>
                                <p>{{hotel['users']['user1']['name']}}</p>
                                <img
                                    src="{{hotel['users']['user1']['img']}}"
                                    alt="Vietnamese">
                                <span>{{hotel['users']['user1']['nation']}}</span>
                            </div>
                        </div>

                        <div class="carousel-item container">
                            <span>{{hotel['users']['user2']['comment']}}</span>
                            <div
                                class="image-nation d-flex justify-content-around mt-3 ">
                                <span><i class="fa-solid fa-user"
                                        style="color: #cfd8e8;"></i> </span>
                                <p>{{hotel['users']['user2']['name']}}</p>
                                <img
                                    src="{{hotel['users']['user2']['img']}}"
                                    alt="Vietnamese">
                                <span>{{hotel['users']['user2']['nation']}}</span>
                            </div>
                        </div>
                        <div class="carousel-item container">
                            <span>{{hotel['users']['user3']['comment']}}</span>
                            <div
                                class="image-nation d-flex justify-content-around mt-3 ">
                                <span><i class="fa-solid fa-user"
                                        style="color: #cfd8e8;"></i> </span>
                                <p>{{hotel['users']['user3']['name']}}</p>
                                <img
                                    src="{{hotel['users']['user3']['img']}}"
                                    alt="Vietnamese">
                                <span>{{hotel['users']['user3']['nation']}}</span>
                            </div>
                        </div>
                    </div>

                    <!-- Left and right controls/icons -->
                    <button class="carousel-control-prev" type="button"
                        data-bs-target="#cmt" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button class="carousel-control-next" type="button"
                        data-bs-target="#cmt" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </button>
                </div>
                <hr>
                <div class="d-flex justify-content-around ">
                    <div id="rooms-container " class="d-flex align-items-center">
                        <div>
                            <h5>Giá phòng:  </h5>
                        </div>
                        <div>
                            <h4 class="text-danger">{{ '{:,.0f}'.format(room['price']) }} VND</h4>    
                        </div>
                    </div>
                </div>
                <hr class="m-2">

                <div class="container">
                    <span class="text-success">Khách nói gì về kỳ nghỉ của họ
                    </span>
                    <div class="comment row">
                        <p class="col-md-5">Bữa Sáng Ngon
                            ({{hotel['Guest-Reviews']['meal']}})</p>
                        <p class="col-md-5">Phòng Sạch
                            ({{hotel['Guest-Reviews']['room']}})</p>
                        <p class="col-md-6">Nhân Viên Thân Thiện
                            ({{hotel['Guest-Reviews']['staff']}})</p>
                        <p class="col-md-5">Dịch Vụ Xuất Sắc
                            ({{hotel['Guest-Reviews']['service']}})</p>
                    </div>
                </div>
                <hr>

                <div class="container text-center ">
                    <button type="button" class="btn booking-now mt-2">Đặt Ngay</button>
                </div>
            </div>
        </div>
        <!-- end thông tin tổng quan phòng -->
    </div>
    <!-- end hình ảnh và tổng quan phòng -->

    <!-- thông tin phòng và xem thêm -->
    <div>
        <div class="container mt-3">
            <h4>Thông tin chi tiết</h4>
            <p> {{hotel['room-Details']['information1']}}</p>
            <p class="see-more"
                data-bs-toggle="collapse"
                data-bs-target="#infomation-room">Xem Thêm <i
                    class="fa-solid fa-angles-right"
                    style="color: #74C0FC;"></i></p>
            <div id="infomation-room" class="collapse">
                {{hotel['room-Details']['information2']}}
                <h6>Chính sách hủy</h6>
                Không hỗ trợ hoàn huỷ
                <h6>Bữa ăn</h6>
                Giá đã bao gồm bữa sáng
                <h6>Xác nhận</h6>
                {{hotel['room-Details']['information3']}}
                <h6>Hóa đơn</h6>
                {{hotel['room-Details']['information4']}}
                <h6>Ưu đãi</h6>
                <ul>
                    <li> {{hotel['room-Details']['endows']['endow1']}}</li>
                    <li>Ăn sáng</li>
                </ul>

            </div>
        </div>
    </div>

    <!-- các tiện nghi ưa chuộng nhất -->
    <div>
        <h5>các tiện nghi được ưa chuộng nhất</h5>
        <ul class="comfort d-flex">
            <li><i class="fa-solid fa-wifi" style="color: #63E6BE;"></i> Wi-Fi
                miễn phí</li>
            <li><i class="fa-solid fa-bus" style="color: #63E6BE;"></i> Xưa đưa
                đón từ sân bay</li>
            <li><i class="fa-solid fa-people-group" style="color: #63E6BE;"></i>
                Phòng gia đình</li>
            <li><i class="fa-solid fa-ban-smoking" style="color: #63E6BE;"></i>
                không hút thuốc</li>
            <li><i class="fa-solid fa-temperature-low"
                    style="color: #63E6BE;"></i> Điều hòa nhiệt độ</li>
            <li><i class="fa-solid fa-elevator" style="color: #63E6BE;"></i>
                thang máy</li>
            <li><i class="fa-solid fa-broom" style="color: #63E6BE;"></i> Dọn
                dẹp hằng ngày</li>
        </ul>
    </div>
    <!--end các tiện nghi ưa chuộng nhất -->

    <!-- tổng quan đánh giá -->
    <div class="container">
        <h4>Xếp hạng & Điểm đánh giá chung </h4>
        <p>Từ <span style="font-weight: bold;">921</span>đánh giá của khách đã
            ở</p>
        <div class="container row">
            <div class="col-md-2 Evaluate1">
                <div class="container p-0">
                    <div class="outer-circle">
                        <div class="inner-circle">
                            8.5
                        </div>
                    </div>
                </div>
                <h4 class="mt-2">Ấn tượng</h4>
            </div>

            <div class="col-md-6">
                <div class="row m-2">
                    <div class="col-md-3">Tuyệt vời</div>
                    <div class="col-md-8 mt-1">
                        <div class="progress">
                            <div class="progress-bar"
                                style="width:70%">{{hotel['Rating']['Great']}}%</div>
                        </div>
                    </div>
                    <div
                        class="col-md-1">{{hotel['Rating']['countGreat']}}</div>
                </div>

                <div class="row m-2">
                    <div class="col-md-3">Hài lòng</div>
                    <div class="col-md-8 mt-1">
                        <div class="progress">
                            <div class="progress-bar"
                                style="width:60%">{{hotel['Rating']['Satisfied']}}%</div>
                        </div>
                    </div>
                    <div
                        class="col-md-1">{{hotel['Rating']['countSatisfied']}}</div>
                </div>

                <div class="row m-2">
                    <div class="col-md-3">Trung bình</div>
                    <div class="col-md-8 mt-1">
                        <div class="progress">
                            <div class="progress-bar"
                                style="width:5%">{{hotel['Rating']['medium']}}%</div>
                        </div>
                    </div>
                    <div
                        class="col-md-1">{{hotel['Rating']['countmedium']}}</div>
                </div>

                <div class="row m-2">
                    <div class="col-md-3">Kém</div>
                    <div class="col-md-8 mt-1">
                        <div class="progress">
                            <div class="progress-bar"
                                style="width:0%">{{hotel['Rating']['least']}}%</div>
                        </div>
                    </div>
                    <div
                        class="col-md-1">{{hotel['Rating']['countleast']}}</div>
                </div>

            </div>
            <div class="col-md-3">
                <div class="container">
                    <div class="row">
                        <div class="col-md-4">
                            <p>Sạch sẽ </p>
                        </div>
                        <ul class="col-md-8 Evaluate2 d-flex mb-0">

                            {% for i in range(1, 5) %}
                            <li><i class="fa-solid fa-star"
                                    style="color: #74C0FC;"></i></li>
                            {% endfor %}
                            {% for i in range(1, 2) %}
                            <li><i class="fa-regular fa-star"
                                    style="color: #74C0FC;"></i></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>

                <div class="container">
                    <div class="row">
                        <div class="col-md-4">
                            <p> Đồ ăn </p>
                        </div>
                        <ul class="col-md-8 Evaluate2 d-flex mb-0">

                            {% for i in range(1, 5) %}
                            <li><i class="fa-solid fa-star"
                                    style="color: #74C0FC;"></i></li>
                            {% endfor %}
                            {% for i in range(1, 2) %}
                            <li><i class="fa-regular fa-star"
                                    style="color: #74C0FC;"></i></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>

                <div class="container">
                    <div class="row">
                        <div class="col-md-4">
                            <p>Thoải mái </p>
                        </div>
                        <ul class="col-md-8 Evaluate2 d-flex mb-0">

                            {% for i in range(1, 6) %}
                            <li><i class="fa-solid fa-star"
                                    style="color: #74C0FC;"></i></li>
                            {% endfor %}
                            {% for i in range(1, 1) %}
                            <li><i class="fa-regular fa-star"
                                    style="color: #74C0FC;"></i></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>

                <div class="container">
                    <div class="row">
                        <div class="col-md-4">
                            <p> Dịch vụ </p>
                        </div>
                        <ul class="col-md-8 Evaluate2 d-flex mb-0">

                            {% for i in range(1, 6) %}
                            <li><i class="fa-solid fa-star"
                                    style="color: #74C0FC;"></i></li>
                            {% endfor %}
                            {% for i in range(1, 1) %}
                            <li><i class="fa-regular fa-star"
                                    style="color: #74C0FC;"></i></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- end tổng quan đánh giá -->

    <!-- bình luận của khách hàng  -->

    <div class="container row">
        <div class="col-md-3 col-xs-12 d-flex align-items-center">
            <div>
                {% if current_user.avatar %}
                <img class="rounded-circle" src="{{ current_user.avatar }}" width="150px" alt="{{ current_user.username }}"/>
                {% else %}
                <img src="{{ current_user.avatar }}" width="50px" alt="{{ current_user.username }}"/>
                {% endif %}
            </div>
            <div class="ms-3">
                <h6>{{ current_user.username }}</h6>
            </div>
        </div>
        <div class="col-md-9 col-xs-12">
            <div class="form-group">
                <label for="exampleInputEmail1">Nhập title của bình luận: </label>
                <input type="email" class="form-control" id="title-new" aria-describedby="emailHelp" placeholder="Nhập title...">
            </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Nội dung bình luận</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Đánh giá sao 5 <i class="fa-solid fa-star" style="color: #FFD43B;"></i></label>
                <select class="form-control" id="exampleFormControlSelect1">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option selected value="5">5</option>
                </select>
            </div>
            <div class="d-flex justify-content-between mt-2">
                <div></div>
                <div>
                    <input type="button" value="Bình luận" class="btn btn-danger" />
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        
        



        {% for i in range(6) %}
        <div class="row d-flex align-items-center mt-3 p-3"
            style="border-bottom: 1px solid #cfd8e8;">
            <div class="col-md-3">
                <div class="row">
                    <div class="col-md-4 image-container">
                        <img
                            src="{{hotel['comments']['comment' + i|string]['img']}}"
                            alt="image user">
                    </div>
                    <div class="col-md-8">
                        <div
                            class="name">{{hotel['comments']['comment' +
                            i|string]['name']}}</div>
                        <div
                            class="date">{{hotel['comments']['comment' +
                            i|string]['birthday']}}</div>
                        <div class="details">
                            <span>🛏
                                {{hotel['comments']['comment' +
                                i|string]['info1']}}</span>
                            <span>📅
                                {{hotel['comments']['comment' +
                                i|string]['info2']}}</span>
                            <span><i class="fa-solid fa-person"
                                    style="color: #FFD43B;"></i> <i
                                    class="fa-solid fa-person"
                                    style="color: #74C0FC;"></i>
                                {{hotel['comments']['comment' +
                                i|string]['Room-type']}}</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-9">
                <h4>{{hotel['comments']['comment' +
                    i|string]['title']}}</h4>
                <div class="rating">
                    <span class="rating-score">{{hotel['comments']['comment' +
                        i|string]['Evaluate1']}}</span>
                    <span class="rating-text">{{hotel['comments']['comment' +
                        i|string]['Evaluate2']}}</span>
                </div>
                <p>
                    {{hotel['comments']['comment' + i|string]['comment']}}
                </p>
                <div class="feedback useful-information">
                    <i class="fa-solid fa-thumbs-up like-comment"></i> Thích
                    Đánh giá này có hữu
                    ích với bạn không?
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <!-- end bình luận của khách hàng -->
</div>

{% endblock %}
