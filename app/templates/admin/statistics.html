{% extends '/admin/base.html' %}

{% block body %}
<h1 class="text-center text-danger mt-1">Thống kê báo cáo</h1>

<div class="container">

      <!-- Biểu đồ Doanh Thu Hàng Tháng -->
      <div class="row">
            <div class="col-md-6 col-12">
                  <canvas id="doanhThuChart" width="400" height="200"></canvas>
            </div>
            <div class="col-md-6 col-12">
                  <canvas id="tanSuatChart" width="400" height="200"></canvas>
            </div>

      </div>

      <!-- Biểu đồ Tần Suất Sử Dụng Phòng -->

      <!-- Chi Tiết Báo Cáo -->
      <h3>Chi Tiết Báo</h3>
      <table border="1" style="width:50%; text-align:center;">
            <tr>
                  <th>Năm báo cáo</th>
                  <th>Tổng doanh thu</th>
                  <th>Tổng số phòng sử dụng</th>
            </tr>
            <tr>
                  <td>2024</td>
                  <td>{{ '{:,}'.format(tong_doanh_thu) }} VNĐ</td>
                  <td>{{ so_phong_su_dung }} phòng</td>
            </tr>
      </table>

      <!-- Nút Chức Năng -->
      <div>
            <button style="background-color:red; color:white;">Thoát</button>
            <button style="background-color:purple; color:white;">Báo cáo doanh
                  thu</button>
            <button style="background-color:purple; color:white;">Báo cáo mật
                  độ</button>
            <button style="background-color:green; color:white;">Xuất báo
                  cáo</button>
      </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
      window.onload = function() {
            const doanhThuData = {
                  labels: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'T8', 'T9', 'T10', 'T11', 'T12'],
                  datasets: [
                        {
                              label: 'Doanh Thu (VNĐ)',
                              data: 8000000000 ,
                              backgroundColor: 'rgba(153, 102, 255, 0.6)',
                              borderColor: 'rgba(153, 102, 255, 1)',
                              borderWidth: 1

                        }
                  ]
            }
            const tanSuatData = {
                  labels: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'T8', 'T9', 'T10', 'T11', 'T12'],
                  datasets: [
                        {
                              label: 'Phòng Thường',
                              data: 90000,
                              backgroundColor: 'rgba(54, 162, 235, 0.6)'
                        },
                        {
                              label: 'Phòng VIP',
                              data: 78000,
                              backgroundColor: 'rgba(255, 206, 86, 0.6)'
                        }
                  ]
            }
      }
      // Biểu đồ Doanh Thu
      new Chart(document.getElementById('doanhThuChart'), {
            type: 'bar',
            data: doanhThuData,
            options: {
                  responsive: true,
                  plugins: {
                        legend: { display: true },
                        title: { display: true, text: 'Biểu đồ Doanh Thu Hàng Tháng' }
                  }
            }
      });

      // Biểu đồ Tần Suất Sử Dụng Phòng
      new Chart(document.getElementById('tanSuatChart'), {
            type: 'bar',
            data: tanSuatData,
            options: {
            responsive: true,
            plugins: {
                  legend: { display: true },
                  title: { display: true, text: 'Biểu đồ Tần Suất Sử Dụng Phòng' }
                  }
            }
      });      
</script>
{% endblock %}