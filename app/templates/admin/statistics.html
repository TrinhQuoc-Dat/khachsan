<link rel="stylesheet" href="{{ url_for('static', filename='css/stats.css') }}">
<link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
<script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

{% extends '/admin/base.html' %}

{% block body %}
<h1 class="text-center text-danger mt-1">Thống kê báo cáo</h1>

<div class="container mt-5 mb-5">
      <div class="row justify-content-center">
            <div class="col-md-4">
                  <div class="input-group">
                        <span class="input-group-text">Year</span>
                        <select class="form-select" id="yearSelector">
                              <option selected>Select Year</option>
                        </select>
                  </div>
            </div>
      </div>
</div>

<div class="container">

      <!-- Biểu đồ Doanh Thu Hàng Tháng  -->
      <div class="row">
            <div class="col-md-6 col-12">
                  <canvas id="doanhThuChart" width="400" height="200"></canvas>
            </div>
      <!-- Biểu đồ tần xuất sử dụng phòng -->
            <div class="col-md-6 col-12">
                  <canvas id="tanSuatChart" width="400" height="200"></canvas>
            </div>

      </div>
</div>

<div class="container">
      <!-- Chi Tiết Báo Cáo -->
      <h3 class="mt-5">Chi Tiết Báo</h3>
      <div>
            <table class="statistic-table" style="width:100%; text-align:center;">
                  <tr>
                        <th>Năm báo cáo</th>
                        <th>Tổng doanh thu</th>
                        <th>Tổng số phòng sử dụng</th>
                  </tr>
                  <tr>
                        <td>2024</td>
                        <td>{{ '{:,}'.format(tong_doanh_thu) }} VNĐ</td>
                        <td>{{ so_phong_su_dung }} phòng</td>
                  </tr>
            </table>
      
      </div>
      <!-- Nút Chức Năng -->
      <div class="row mb-5">
            <div class="col-md-6"></div>
            <div class="col-md-6 function-selection d-flex justify-content-between">
                  <button type="button" class="btn btn-danger"><a href="{{ url_for('admin.index') }}">Thoát</a></button>
                  <button type="button" class="btn btn-info"><a href="{{ url_for('revenue_report') }}">Báo cáo doanh thu</a></button>
                  <button type="button" class="btn btn-info"><a href="{{ url_for('density_report') }}">Báo cáo mật độ</a></button>
                  <button type="button" class="btn btn-success" id="export-btn"><a href="#">Xuất báo cáo</a></button>
            </div>
      </div>
</div>

<script src="{{ url_for('static', filename='js/calendarYear.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/statistics.js') }}"></script>
      <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
      <script src="{{ url_for('static', filename='js/export.js') }}"></script>
{% endblock %}